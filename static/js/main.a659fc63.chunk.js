(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){},33:function(e,a,t){e.exports=t(61)},38:function(e,a,t){},56:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(28),r=t.n(o),c=t(3),s=t(4),i=t(6),m=t(5),d=t(2),u=t(7),p=t(14),h=t(15),b=(t(38),t(16)),f=(t(26),t(22));f.initializeApp({apiKey:"AIzaSyBZV5l4LXu8HiwzffeL6MewA8EhlkCST_Q",authDomain:"parentipsreact-11032.firebaseapp.com",databaseURL:"https://parentipsreact-11032.firebaseio.com",projectId:"parentipsreact-11032",storageBucket:"",messagingSenderId:"201471977395",appId:"1:201471977395:web:298c2d8376fdee61"});var g=f,v=t(12),E=t.n(v),N=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(b.a)({},a.target.id,a.target.value))},e.state={displayName:"",email:"",password:"",photoURL:"https://drogaspoliticacultura.net/wp-content/uploads/2017/09/placeholder-user.jpg"},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.loginWithEmailAndPassword=e.loginWithEmailAndPassword.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"loginWithEmailAndPassword",value:function(e){e.preventDefault();var a=this.state.displayName;console.log(this.state);var t=this.state.email,n=this.state.password;g.auth().createUserWithEmailAndPassword(t,n).then(function(){g.auth().currentUser.updateProfile({displayName:a,photoURL:"https://drogaspoliticacultura.net/wp-content/uploads/2017/09/placeholder-user.jpg"})}).catch(function(e){console.log(e),E.a.fire({type:"error",title:"Oops...",text:"Algo salio mal!",footer:"Vuelve a intetarlo"})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"register"},l.a.createElement("img",{src:"https://fotos.subefotos.com/bf6de30544c23d1df2aad093e5688c92o.png",alt:"...",className:"img-fluid imgR col-md-4 col-sm-4"}),l.a.createElement("form",{className:"style col-md-10 "},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-md-11 mb-3"},l.a.createElement("label",{for:"name"},"Nombre completo"),l.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control input",id:"displayName",placeholder:"Nombre",required:!0})),l.a.createElement("div",{className:"col-md-11 mb-3"},l.a.createElement("label",{for:"email"},"Email"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend2"},l.a.createElement("i",{class:"far fa-envelope icon"}))),l.a.createElement("input",{type:"email",onChange:this.handleChange,className:"form-control input",id:"email",placeholder:"Username","aria-describedby":"inputGroupPrepend2",required:!0}))),l.a.createElement("div",{className:"col-md-11 mb-3"},l.a.createElement("label",{for:"validationDefaultUsername"},"Contrase\xf1a"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend2"},l.a.createElement("i",{class:"fas fa-lock icon"}))),l.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control input",id:"password",placeholder:"Contrase\xf1a","aria-describedby":"inputGroupPrepend2",required:!0}))),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement(p.b,{to:"/"},l.a.createElement("a",{className:"form-check-label ",for:"invalidCheck2"},"Ya tienes una cuenta")))),l.a.createElement("button",{className:" btnStyles btn position col-lg-11 col-sm-11 col-md-11 inline ",type:"submit",onClick:this.loginWithEmailAndPassword},"Registrarme")),l.a.createElement("br",null))}}]),a}(l.a.Component),y=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={user:{}},e.signinWithGoogle=e.signinWithGoogle.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"signinWithGoogle",value:function(e){e.preventDefault();var a=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(a).then(function(e){return e.user}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("button",{className:"borderBtn bg-transparent col-lg-12 col-sm-12 ",onClick:this.signinWithGoogle},l.a.createElement("i",{class:"fab fa-google iconO iconG"})))}}]),a}(l.a.Component),O=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).signinWithFacebook=e.signinWithFacebook.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"signinWithFacebook",value:function(e){e.preventDefault();var a=new g.auth.FacebookAuthProvider;g.auth().signInWithPopup(a).then(function(e){var a=e.user;console.log(a)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("button",{className:"borderBtn bg-transparent col-lg-12 col-sm-12 ",onClick:this.signinWithFacebook},l.a.createElement("i",{class:"fab fa-facebook-square iconO"})))}}]),a}(l.a.Component),j=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(b.a)({},a.target.id,a.target.value))},e.state={email:"",password:""},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.login=e.login.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"login",value:function(e){e.preventDefault(),g.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){console.log(e),E.a.fire({type:"error",title:"Oops...",text:"Algo salio mal!",footer:"Vuelve a intetarlo"})})}},{key:"render",value:function(){return console.log(this.props),l.a.createElement("div",{className:"register"},l.a.createElement("img",{src:"https://fotos.subefotos.com/bf6de30544c23d1df2aad093e5688c92o.png",alt:"...",className:"img-fluid imgR col-md-4 col-sm-4"}),l.a.createElement("form",{className:"style col-md-8 "},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"col-md-12 mb-3 sm-3"},l.a.createElement("label",null,"Email"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text input",id:"inputGroupPrepend2"},l.a.createElement("i",{class:"far fa-envelope icon"}))),l.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control input",id:"email",placeholder:"Email","aria-describedby":"inputGroupPrepend2",required:!0}))),l.a.createElement("div",{className:"col-md-12 mb-3 sm-3"},l.a.createElement("label",null,"Contrase\xf1a"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text input",id:"inputGroupPrepend2"},l.a.createElement("i",{class:"fas fa-lock icon"}))),l.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control input",id:"password",placeholder:"Contrase\xf1a",required:!0}))),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement(p.b,{to:"/SignIn"},l.a.createElement("a",{className:"form-check-label"},"No tienes una cuenta \xa1Registrate!")))),l.a.createElement("div",{className:"col-lg-12 inline col-sm-12"},l.a.createElement("button",{className:"btn position col-lg-11 col-sm-11 inline",type:"submit",onClick:this.login},"Iniciar sesi\xf3n"))),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-lg-3 col-md-3 col-sm-3"}),l.a.createElement("div",{className:"col col-lg-3 col-md-3 col-sm-3"},l.a.createElement(O,null)),l.a.createElement("div",{className:"col col-lg-3 col-md-3 col-sm-3"},l.a.createElement(y,{user:this.props})),l.a.createElement("div",{className:"col col-lg-3 col-md-3 col-sm-3"}))),l.a.createElement("div",{className:"col-lg-10 col-sm-10 inline"}))}}]),a}(l.a.Component),w=(t(56),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).logOut=e.logOut.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"logOut",value:function(e){e.preventDefault(),g.auth().signOut().then(function(){console.log("sesion cerrada")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar  navBarColor navbar-expand-lg navbar-light  col-md-12 sticky-top"},l.a.createElement("a",{className:"navbar-brand col-md-3 col-sm-5 col-5"},l.a.createElement(p.b,{to:"/"},l.a.createElement("img",{className:"logo img-fluid",alt:"...",src:"https://fotos.subefotos.com/bf6de30544c23d1df2aad093e5688c92o.png"}))),l.a.createElement("button",{className:"navbar-toggler col-sm-2 col-2",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon cool-sm-12 col-12"})),l.a.createElement("div",{className:"collapse navbar-collapse col-md-9",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto col-md-12"},l.a.createElement("li",{className:"nav-item active col-md-4"},l.a.createElement("a",{className:"nav-link",to:"/Profile"},l.a.createElement(p.b,{to:"/Profile",className:"letterNav"},"Perfil ",l.a.createElement("span",{className:"sr-only"},"(current)")))),l.a.createElement("li",{className:"nav-item active col-md-4"},l.a.createElement("a",{className:"nav-link",onClick:this.logOut},l.a.createElement(p.b,{to:"/",className:"letterNav"},"Cerrar sesi\xf3n",l.a.createElement("span",{className:"sr-only"},"(current)")))))))}}]),a}(l.a.Component)),C=t(32),k=t.n(C),P=(t(58),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={user:{}},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.sendPostToFirebase=t.sendPostToFirebase.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"sendPostToFirebase",value:function(){var e=g.auth().currentUser.uid,a=g.auth().currentUser,t=a.displayName,n=this.state.messagePost,l=a.photoURL,o=k()().format("lll"),r=g.database().ref("users/"+e).child("post").push().key,c={autor:t,contenido:n,fecha:o,foto:l,id:r};console.log(r);var s={};s["/posts/"+r]=c,s["/user-posts/"+e+"/"+r]=c,g.database().ref().update(s),this.setState({messagePost:""}),E.a.fire({type:"success",title:"Listo!",showConfirmButton:!1,html:"Tu post ha sido publicado!",timer:1500}).then(function(e){e.dismiss===E.a.DismissReason.timer&&console.log("I was closed by the timer")})}},{key:"render",value:function(){return l.a.createElement("div",{className:"input-group flex-nowrap col-md-12"},l.a.createElement("span",{className:"input-group-text ",id:"addon-wrapping"},l.a.createElement("i",{class:"fas fa-plus"})),l.a.createElement("button",{type:"button",className:"form-control col-md-11 color",placeholder:"Crear un nueva publicaci\xf3n","data-toggle":"modal","data-target":"#exampleModal","aria-describedby":"addon-wrapping"},"Haz click para crear una publicaci\xf3n"),l.a.createElement("div",{className:"modal fade",id:"exampleModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},this.props.infoUser.displayName),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group letterPost"},l.a.createElement("label",{className:"col-form-label letterPost"},"\xbfQu\xe9 quisieras compartir?"),l.a.createElement("textarea",{autoFocus:!0,className:"form-control font-color",value:this.state.messagePost,id:"messagePost",onChange:this.handleChange,placeholder:"\xbfSobre qu\xe9 quieres hablar?\r - Tips\r - Experiencias\r - Anecdotas\r - Recomendaciones"})))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn font-color cancelar","data-dismiss":"modal"},"Cancelar"),l.a.createElement("button",{type:"button",onClick:this.sendPostToFirebase,"data-dismiss":"modal",className:"btn font-color publicar"},"Publicar"))))))}}]),a}(l.a.Component)),x=(t(59),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).deletePost=function(e){e.preventDefault();var a=e.target.id,t=g.auth().currentUser.uid,n=g.database().ref(),l=n.child("posts/"),o=n.child("user-posts/"+t);E.a.fire({title:"\xbfSegur@ que quieres eliminar tu publicaci\xf3n?",type:"warning",showCancelButton:!0,confirmButtonColor:"#CEE161",cancelButtonColor:"#d33",confirmButtonText:"S\xed, \xa1Eliminar!"}).then(function(e){console.log(e),e.value&&(E.a.fire({type:"success",title:"Listo!",showConfirmButton:!1,html:"Tu post ha sido eliminado!",timer:1e3}).then(function(e){e.dismiss===E.a.DismissReason.timer&&console.log("I was closed by the timer")}),l.child(a).remove(),o.child(a).remove())})},e.state={posts:[]},e.deletePost=e.deletePost.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;g.database().ref().child("posts/").on("value",function(a){var t=function(e){var a=[];return e.forEach(function(e){var t=e.val();a.unshift(t)}),a}(a);e.setState({posts:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-md-11 align-content-center mx-auto"},this.state.posts.map(function(a,t){return l.a.createElement("div",{className:"card border-dark mb-3 align-content-center",key:t},l.a.createElement("div",{className:"card-header header-color container col-md-12 col-sm-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-md-1 col-sm-1 col-1"},l.a.createElement("img",{className:"photoPost",src:a.foto,alt:"..."})),l.a.createElement("div",{className:"col col-md-9 col-sm-9 col-8 letter-color"},l.a.createElement("span",{className:"letter-color"},a.autor)),l.a.createElement("div",{className:"col col-md-2 col-sm-2 col-3"},l.a.createElement("div",{className:"dropdown bg-transparent"},l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"btn dropdown-toggle col-md-11 dropdown-letter",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{class:"fas fa-ellipsis-h options"})),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},l.a.createElement("button",{type:"button",onClick:e.deletePost,id:a.id,className:"dropdown-item btnColor btn"},"Eliminar"))))))),l.a.createElement("div",{className:"card-body text-dark content-color"},l.a.createElement("small",{className:"card-title"},a.fecha),l.a.createElement("h4",{className:"card-text"},a.contenido)))}))}}]),a}(l.a.Component)),B=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=this.props.user,a={uid:e.uid,name:e.displayName,email:e.email,photo:e.photoURL};void 0===a.uid?console.log("no"):g.database().ref("users/"+e.uid).set(a)}},{key:"render",value:function(){var e=this.props.user;return l.a.createElement("div",null,l.a.createElement(w,null),l.a.createElement("br",null),l.a.createElement(P,{infoUser:e}),l.a.createElement("br",null),l.a.createElement(x,{infoUser:e}))}}]),a}(l.a.Component),S=(t(60),[]),W=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={posts:[]},e.timeLinePostsProfile=e.timeLinePostsProfile.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=this.props.objectUser;console.log(e),e?this.timeLinePostsProfile(e.uid):console.log("error")}},{key:"componentDidMount",value:function(){this.componentWillReceiveProps()}},{key:"timeLinePostsProfile",value:function(e){var a=this;var t=g.database().ref().child("user-posts/"+e);console.log(e),t.on("value",function(e){S=function(e){var a=[];return e.forEach(function(e){var t=e.val();a.unshift(t)}),a}(e),a.setState({posts:S})}),this.render()}},{key:"render",value:function(){var e=this;return console.log(this.state.posts),l.a.createElement("div",null,l.a.createElement(w,null),l.a.createElement("div",{className:"card cardColor"},l.a.createElement("img",{src:this.props.user.photo,className:"card-img-top img-fluid img",alt:this.props.user.name}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h1",{className:"card-text text-center"},this.props.user.name)),l.a.createElement("div",{className:"col-md-11 align-content-center mx-auto"},S!==[]?this.state.posts.map(function(a,t){return l.a.createElement("div",{className:"card border-dark mb-3 align-content-center",key:t},l.a.createElement("div",{className:"card-header header-color container col-md-12 col-sm-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col col-md-1 col-sm-1 col-2"},l.a.createElement("img",{className:"photoPost",src:a.foto,alt:"..."})),l.a.createElement("div",{className:"col col-md-9 col-sm-9 col-6 letter-color"},l.a.createElement("span",{className:"letter-color"},a.autor)),l.a.createElement("div",{className:"col col-md-2 col-sm-2 col-3"},l.a.createElement("div",{className:"dropdown bg-transparent"},l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"btn dropdown-toggle col-md-11 dropdown-letter",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{class:"fas fa-ellipsis-h options"})),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},l.a.createElement("button",{onClick:e.deletePost,id:a.id,className:"dropdown-item color"},"Eliminar")))))),l.a.createElement("div",{className:"card-body text-dark content-color"},l.a.createElement("small",{className:"card-title"},a.fecha),l.a.createElement("h4",{className:"card-text"},a.contenido))))}):console.log("error"))))}}]),a}(l.a.Component),D=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={user:{},userDB:{}},e.authListener=e.authListener.bind(Object(d.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;g.auth().onAuthStateChanged(function(a){a?(e.setState({user:a}),null===a.displayName?e.setState({userDB:{email:a.email,photo:"https://drogaspoliticacultura.net/wp-content/uploads/2017/09/placeholder-user.jpg",name:a.displayName}}):e.setState({userDB:{name:a.displayName,email:a.email,photo:a.photoURL}})):e.setState({user:null})}),console.log(this.state.userDB)}},{key:"render",value:function(){var e=this;return l.a.createElement(p.a,{basename:"/"},l.a.createElement("div",{className:"App"},l.a.createElement(h.c,null,l.a.createElement(h.a,{exact:!0,path:"/",render:function(){return e.state.user?l.a.createElement(B,{user:e.state.user}):l.a.createElement(j,{userDB:e.state.userDB})}}),l.a.createElement(h.a,{exact:!0,path:"/SignIn",render:function(){return e.state.user?l.a.createElement(B,{user:e.state.user}):l.a.createElement(N,{userBD:e.state.userDB})}}),l.a.createElement(h.a,{exact:!0,path:"/Profile",render:function(){return l.a.createElement(W,{user:e.state.userDB,objectUser:e.state.user})}}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.a659fc63.chunk.js.map